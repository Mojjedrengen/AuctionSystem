syntax = "proto3";

option go_package = "github.com/Mojjedrengen/AuctionSystem/grpc/auctionsystem";

package auctionsystem;

// NOTE cannot have a void input in gRPC as far as i know
service Auction {
  rpc Bid(amount) returns (ackmsg) {}
  rpc Result(UUID) returns (resultmsg) {}
}

message amount {
  uint64 amount = 1;
  UUID id = 2;
}

message UUID { string value = 1; }

message resultmsg {
  optional UUID highestbidder = 1;
  state state = 2;
}

enum state {
  ONGOING = 0;
  LOST = 1;
  WON = 2;
}

message ackmsg {
  ack ack = 1;
  optional string exception = 2;
}

enum ack {
  FAIL = 0;
  SUCCESS = 1;
  EXCEPTION = 2;
}
